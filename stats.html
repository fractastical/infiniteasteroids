<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asteroid Statistics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #333;
        }

        .chart-container {
            margin-bottom: 30px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>Asteroid Statistics</h1>
        <div class="chart-container">
            <canvas id="hpChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="speedChart"></canvas>
        </div>
        <div class="chart-container">
            <canvas id="xpChart"></canvas>
        </div>
    </div>

    <script>
        // Data for the charts
        const waves = [1, 10, 20, 30, 40, 50, 60, 70, 80, 90, 100, 110, 120, 130];
        const xpTapering = [1.0000, 0.9865, 0.9715, 0.9565, 0.9415, 0.9265, 0.9115, 0.8965, 0.8815, 0.8665, 0.8515, 0.8365, 0.8215, 0.8065];
        const normalHP = [1, 1, 1, 1, 1, 1, 1, 9, 24, 39, 54, 69, 84, 99];
        const hardenedHP = [5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 5.5, 13.5, 28.5, 43.5, 58.5, 73.5, 88.5, 103.5]; // Using average of range
        const veryHardenedHP = [15, 15, 15, 15, 15, 15, 15, 23, 38, 53, 68, 83, 98, 113];
        const megaHardenedHP = [11, 20, 30, 40, 50, 60, 70, 88, 113, 138, 163, 188, 213, 238];
        const rareHP = [5, 5, 5, 5, 5, 5, 5, 13, 28, 43, 58, 73, 88, 103];

        // Function to calculate asteroid speed
        function calculateAsteroidSpeed(wave) {
            const baseSpeed = 2;
            const growthRate = 1.02;
            const TAPER_WAVE = 85;
            if (wave <= TAPER_WAVE) {
                return baseSpeed * Math.pow(growthRate, wave - 1);
            } else {
                const maxExponentialSpeed = baseSpeed * Math.pow(growthRate, TAPER_WAVE - 1);
                const linearIncrease = (wave - TAPER_WAVE) * 0.05;
                return maxExponentialSpeed + linearIncrease;
            }
        }

        // Calculate speeds for each wave
        const speeds = waves.map(calculateAsteroidSpeed);

        // HP Chart
        new Chart(document.getElementById('hpChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: waves,
                datasets: [
                    { label: 'Normal', data: normalHP, borderColor: 'rgb(75, 192, 192)', tension: 0.1 },
                    { label: 'Hardened', data: hardenedHP, borderColor: 'rgb(255, 159, 64)', tension: 0.1 },
                    { label: 'Very Hardened', data: veryHardenedHP, borderColor: 'rgb(255, 99, 132)', tension: 0.1 },
                    { label: 'Mega Hardened', data: megaHardenedHP, borderColor: 'rgb(54, 162, 235)', tension: 0.1 },
                    { label: 'Rare', data: rareHP, borderColor: 'rgb(153, 102, 255)', tension: 0.1 }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Asteroid HP Progression'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Wave'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'HP'
                        },
                        beginAtZero: true
                    }
                }
            }
        });

        // Speed Chart
        new Chart(document.getElementById('speedChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: waves,
                datasets: [
                    { label: 'Asteroid Speed', data: speeds, borderColor: 'rgb(75, 192, 192)', tension: 0.1 }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'Asteroid Speed Progression'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Wave'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Speed'
                        },
                        beginAtZero: true
                    }
                }
            }
        });

        // XP Tapering Chart
        new Chart(document.getElementById('xpChart').getContext('2d'), {
            type: 'line',
            data: {
                labels: waves,
                datasets: [
                    { label: 'XP Tapering Factor', data: xpTapering, borderColor: 'rgb(255, 99, 132)', tension: 0.1 }
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    title: {
                        display: true,
                        text: 'XP Tapering Factor Progression'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Wave'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'XP Tapering Factor'
                        },
                        beginAtZero: false
                    }
                }
            }
        });
    </script>
</body>

</html>